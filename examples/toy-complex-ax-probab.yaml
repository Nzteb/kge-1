job.type: search
dataset.name: toy
model: probabilistic_model

search:
  type: ax
  num_workers: 4

train:
  loss: kl
  type: 1vsAllProbab
  optimizer: Adagrad
  lr_scheduler: ReduceLROnPlateau
  lr_scheduler_args:
    mode: max
    patience: 4
  max_epochs: 10


valid.filter_with_test: True
valid.every: 5


ax_search:
  num_trials: 30
  num_sobol_trials: 10
  parameters:
    - name: train.optimizer_args.lr
      type: range
      bounds: [0.00001, 0.5]
    - name: 1vsAllProbab.reparameterize_samples
      type: choice
      values: [1, 2, 5, 10,20]
    - name: 1vsAllProbab.kl
      type: choice
      values: [1, 0]
    - name: lookup_embedder.dim
      type: range
      bounds: [10, 50]